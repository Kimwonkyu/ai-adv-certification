# 📘 [학습 노트] 교재 5. RAG & Agent (Foundation to Advanced)

이 교재는 지식의 단절을 해결하는 검색 증강 생성(RAG)의 기초 파이프라인부터 자율적으로 문제를 해결하는 지능형 에이전트까지 모든 지식 범위를 다룹니다.

---

## 1. RAG (Retrieval Augmented Generation) 아키텍처
### 🏗 RAG 기초 파이프라인
1.  **Ingestion (적재)**: 문서 로드 및 의미 단위 분할(Chunking).
2.  **Indexing (인덱싱)**: 임베딩 후 벡터 DB 저장.
3.  **Retrieval (검색)**: 질문과 유사한 조각 인출.
4.  **Generation (생성)**: 인출된 맥락을 합쳐 답변 생성 (할루시네이션 방지).

### ✂️ 청킹 (Chunking) 전략
- **RecursiveCharacterTextSplitter**: 줄바꿈 등 의미적 경계를 고려한 재귀적 분할.
- **Overlap**: 조각 간 문맥 단절을 막기 위한 중복 범위 설정.

---

## 2. 벡터 인덱싱과 검색 고도화
### ⚡ HNSW (Hierarchical Navigable Small World)
- 데이터를 계층적 그래프로 구성하여 초고속 검색.
- **파라미터**: $M$ (최대 연결 수), $ef\_construction$ (인덱싱 정밀도), $ef\_search$ (검색 범위/속도 조절).

### 🚀 검색 정밀화 전략
- **HyDE**: 가상 정답 임베딩으로 검색 정확도 개선.
- **Reranking**: Bi-Encoder로 후보 추출 후 **Cross-Encoder**로 정밀 순위 재배치.
- **RRF (Reciprocal Rank Fusion)**: 여러 검색 엔진의 순위를 수치적으로 통합.

---

## 3. 에이전트와 도구 사용 (Agents)
- **자율성**: LLM이 스스로 판단하여 필요한 도구(웹 검색, 계산기 등)를 사용.
- **LangGraph**: 순형적 체인을 넘어 **순환(Loop)** 구조와 **상태(State)** 관리를 통해 복잡한 과업 완수.
- **Self-Reflection**: 생성한 답변의 오류를 스스로 검토하고 수정하는 루프 구축.

---

## 4. RAG 평가와 메모리
### 📊 RAGAS 평가지표
- **Faithfulness** (근거 유무), **Answer Relevancy** (질문 합치도), **Context Precision** (검색 품질).

### 📅 메모리 관리 (Memory)
- **Window Memory**: 최근 $K$개 대화 기억.
- **Summary Memory**: 긴 대화 내용을 요약하여 문맥 유지.

이상의 내용은 RAG 및 에이전트 단원의 기초부터 최고 난이도 문항까지 완벽히 해결할 수 있는 근거를 담고 있습니다.