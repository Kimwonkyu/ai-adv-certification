# 📘 [대백과] 교재 2. 데이터 분석 (The Data Science Encyclopedia)

이 교재는 데이터의 구조적 이해부터 고성능 벡터 연산, 그리고 통계적 무결성을 엄격히 다루는 **120개 문항**의 완벽한 해설서입니다.

---

## 1. NumPy: 수치 연산의 심장 (Numerical Python)
### ⚡ 내부 구조와 성능 (Internals)
- **C-Array Interface**: 파이썬 리스트와 달리, 메모리상에 연속적으로 배치된(Contiguous) 데이터 블록입니다. 시스템의 **SIMD** 명령어를 활용하여 루프 없이 초고속 연산을 수행합니다.
- **`@` 연산자**: 파이썬 3.5부터 도입된 행렬 곱셈(Matrix Multiplication) 연산자입니다. `np.dot`과 동일하지만 가독성이 훨씬 뛰어납니다. `A @ B`.
- **`shape`, `dtype`, `ndim`**: 배열의 메타데이터를 즉시 조회합니다. 데이터를 스캔하지 않으므로 $O(1)$입니다.

### 🛠 배열 생성과 조작
- **`arange` vs `linspace`**:
    - `arange(start, stop, step)`: 간격을 지정합니다. 부동소수점 오차가 누적될 수 있습니다.
    - **`linspace(start, stop, num)`**: 전체 개수를 지정합니다. 끝점(Endpoint)을 정확히 맞출 수 있어 그래프 그릴 때 권장됩니다.
- **초기화**: `np.zeros()`, `np.ones()`, `np.full()`. 가중치 초기화 시 자주 쓰입니다.
- **Transpose (`.T`)**: 전치 행렬을 반환합니다. 데이터를 복사하지 않고 스트라이드(Stride)만 바꾸는 **View**를 반환하므로 메모리 비용이 0입니다.

### 🎭 브로드캐스팅과 마스킹
- **Broadcasting**: 형상(Shape)이 다른 배열 간 연산 시, 작은 쪽을 자동으로 확장하여 연산을 수행하는 규칙입니다. $(3, 1)$과 $(3,)$을 더하면 $(3, 3)$이 됩니다.
- **Boolean Masking**: `mask = arr > 0` 처럼 조건문을 통해 T/F 배열을 만들고, `arr[mask]`로 필터링합니다.

---

## 2. Pandas: 강력한 데이터 조작 (Data Manipulation)
### 🏗 구조와 인덱싱
- **DataFrame vs Series**: `df['col']`은 Series, `df[['col']]`은 DataFrame을 반환합니다. (불완전 복사 vs 뷰 이슈 주의)
- **`loc` vs `iloc`**:
    - **`loc`**: 라벨(이름) 기반. `df.loc['2023-01-01']`.
    - **`iloc`**: 정수 위치 기반. `df.iloc[-1]`로 마지막 행 추출 가능.
- **`concat` with `ignore_index=True`**: 여러 DF를 합칠 때 기존 인덱스를 버리고 0부터 다시 번호를 매깁니다. 인덱스 충돌을 방지합니다.

### 🧹 데이터 정제 (Cleaning)
- **`df.info()`와 Dtype**: 데이터 타입(`float`, `object` 등)을 확인하여 메모리 사용량을 가늠하고 최적화 전략을 세우는 첫 단계입니다.
- **결측치 처리**:
    - **`dropna(how='any')`**: 하나라도 비어있으면 행 삭제. 엄격한 기준.
    - **단순 평균 대치(Mean Imputation)의 위험**: 모든 빈칸을 평균으로 채우면 데이터의 **분산(Variance)**이 인위적으로 작아져 통계적 검정력을 떨어뜨립니다.
- **`category` 타입**: 중복된 문자열이 많을 때 `object` 대신 사용하면 메모리를 획기적으로 줄이고 조회 속도가 빨라집니다. (내부적으로 정수 매핑)

### 🔄 변형과 집계 (Transform & Aggregation)
- **`apply` vs `map`**: `apply`는 행/열 단위 복잡한 함수 적용, `map`은 Series의 원소별 매핑(딕셔너리 치환 등)에 최적화되어 있습니다.
- **`melt`**: Wide format(가로로 긴) 데이터를 Long format(세로로 긴)으로 녹입니다. `id_vars`로 고정할 기준 열을 지정합니다. 시각화 라이브러리(Seaborn) 입력용으로 자주 쓰입니다.
- **`groupby` + `agg`**: `df.groupby('dept').agg(['mean', 'sum'])` 처럼 여러 통계량을 한 번에 계산합니다.
- **`value_counts(normalize=True)`**: 도수분포표를 비율(0~1)로 변환하여 상대적 비중을 파악합니다.

---

## 3. 시계렬 데이터 (Time Series)
- **`dt` 접근자**: `df['date'].dt.year`, `df['date'].dt.dayofweek` 등을 통해 날짜 요소를 벡터 단위로 추출합니다. 루프보다 압도적으로 빠릅니다.
- **Resampling**: `closed='left'`, `label='left'` 등의 옵션으로 구간의 경계 처리를 정교하게 제어해야 데이터 누수(Data Leakage)를 막을 수 있습니다.
- **STL 분해**: 시계렬을 **Trend(추세)**, **Seasonality(계절성)**, **Residual(잔차)**로 분해합니다. 잔차는 모델이 설명하지 못한 백색 잡음(Noise)을 분석하는 데 중요합니다.

---

## 4. 정규표현식과 문자열 처리 (Regex)
- **Raw String (`r''`)**: 정규식 패턴에서 백슬래시(`\`) 충돌을 막기 위해 필수입니다.
- **Lookahead `(?=...)`**: 소비(Consume)하지 않고 확인만 하는 비파괴적 패턴 검사입니다. "비밀번호에 숫자가 포함되어 있는가?" 검증 등에 쓰입니다.
- **`str` 접근자**: `df['text'].str.contains('pattern')` 처럼 판다스 내에서 벡터화된 문자열 연산을 수행합니다.

---

## 5. 통계와 머신러닝 기초 (Stats & ML)
### 📉 상관관계와 정규성
- **피어슨 상관계수**: 두 변수의 **선형적** 관계를 측정합니다. 데이터의 스케일(단위)이 바뀌어도 값은 변하지 않습니다 (Scale Invariant).
- **비모수 검정 (Non-parametric)**: 데이터가 정규분포를 따르지 않을 때(Outlier 많음), 값 대신 **순위(Rank)**를 사용하여 차이를 검정합니다. (예: Mann-Whitney U Test)

### 📐 벡터와 거리
- **L2 Norm (Euclidean)**: 벡터의 물리적 길이를 계산합니다. `np.linalg.norm(v)`. 머신러닝의 정규화(Normalization) 과정 분모로 쓰입니다.
- **Dummy Variable Trap**: 원-핫 인코딩 시 전체 카테고리 개수($N$)를 다 쓰면 다중공선성 문제가 발생합니다. 반드시 $N-1$개를 써야 합니다. (`drop_first=True`)

### 🧠 임베딩 기초
- **Word2Vec (Skip-gram vs CBOW)**:
    - **Skip-gram**: 중심 단어로 주변을 예측. 데이터가 적거나 희귀 단어가 많을 때 더 강력합니다.
    - **CBOW**: 주변 단어로 중심을 예측. 학습이 빠르지만 빈번한 단어에 편향됩니다.

이 교재는 데이터 분석 단원의 모든 문항을 완벽히 커버합니다.