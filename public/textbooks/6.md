# π“ [ν•™μµ λ…ΈνΈ] κµμ¬ 6. LLM νμΈνλ‹ (Foundation to Advanced)

μ΄ κµμ¬λ” λ¨λΈ μµμ ν™”μ κΈ°λ³Έ λ΅λ“λ§µλ¶€ν„° λ§¤κ°λ³€μ ν¨μ¨μ  ν•™μµ(PEFT)μ μλ¦¬μ  ν† λ€, κ·Έλ¦¬κ³  ν•λ“μ›¨μ–΄ μμ¤€μ μ–‘μν™” μ΄λ΅ κΉμ§€ λ¨λ‘ λ‹¤λ£Ήλ‹λ‹¤.

---

## 1. νμΈνλ‹μ κΈ°λ³Έκ³Ό λ΅λ“λ§µ
### π›£ ν•™μµ νμ΄ν”„λΌμΈ
1.  **SFT (Supervised Fine-tuning)**: μ§€μ‹-λ‹µλ³€ μμ„ ν†µν• κΈ°λ³Έ μ§€μ‹ μ΄ν–‰ λ¥λ ¥ ν•™μµ.
2.  **Alignment (μ •λ ¬)**: μΈκ°„μ μ„ νΈμ™€ κ°€μΉκ΄€μ„ λ°μν•λ” μµμΆ… μµμ ν™” λ‹¨κ³„.

### π« νλ©Έμ  λ§κ° (Catastrophic Forgetting)
μƒλ΅μ΄ μ§€μ‹μ„ λ°°μ°λ©° κΈ°μ΅΄ μƒμ‹μ„ μλ” ν„μƒ. PEFT κΈ°λ²• λλ” λ°μ΄ν„° λ¦¬ν”λ μ΄(Replay)λ¥Ό ν†µν•΄ λ°©μ§€ν•©λ‹λ‹¤.

---

## 2. PEFT: ν¨μ¨μ  νμΈνΈλ‹ (μ‹¬ν™”)
### π“‰ LoRA Family
- **LoRA (κΈ°λ³Έ)**: κΈ°μ΅΄ κ°€μ¤‘μΉλ” μ–Όλ¦¬κ³  μ €μ°¨μ› ν–‰λ ¬($A, B$)λ§ ν•™μµ ($W = W_0 + AB$).
- **DoRA**: κ°€μ¤‘μΉλ¥Ό **Magnitude(ν¬κΈ°)**μ™€ **Direction(λ°©ν–¥)**μΌλ΅ λ¶„ν•΄ν•μ—¬ ν•™μµ μ„±λ¥μ„ κ·Ήλ€ν™”.
- **GaLore**: κΈ°μΈκΈ°(Gradient) μμ²΄λ¥Ό μ €μ°¨μ›μΌλ΅ ν¬μν•μ—¬ λ©”λ¨λ¦¬ μ μ  κ°μ†.

---

## 3. μ–‘μν™”(Quantization)μ™€ λ©”λ¨λ¦¬
- **QLoRA**: λ¨λΈμ„ 4λΉ„νΈ(**NF4**) λ°μ΄ν„° νƒ€μ…μΌλ΅ μ••μ¶•ν• μƒνƒμ—μ„ νμΈνλ‹ μν–‰.
- **Double Quantization**: μ••μ¶•μ— μ“°μΈ μμΉλ“¤κΉμ§€ ν• λ² λ” μ–‘μν™”ν•μ—¬ VRAM μ μ•½.
- **Paged Optimizer**: GPU λ¶€μ΅± μ‹ CPU RAMμ„ ν™μ©ν•΄ OOM μ—λ¬ λ°©μ§€.

---

## 4. μµμ‹  μ •λ ¬ λ° κ°•ν™”ν•™μµ μ•κ³ λ¦¬μ¦
- **DPO (Direct Preference Optimization)**: λ³„λ„μ λ³΄μƒ λ¨λΈ μ—†μ΄ μ„ νΈ λ°μ΄ν„°λ¥Ό μ§μ ‘ μµμ ν™”.
- **GRPO (Group Relative Policy Optimization)**: λ‹µλ³€ λ¬¶μ λ‚΄ μƒλ€ ν‰κ°€λ¥Ό ν†µν•΄ μ¶”λ΅  μ§€λ¥ ν­λ° (DeepSeek R1 ν•µμ‹¬).
- **ORPO**: SFTμ™€ μ •λ ¬μ„ λ‹¨μΌ λ‹¨κ³„λ΅ ν†µν•©ν•μ—¬ κ²½μ μ μΈ ν•™μµ λ³΄μ¥.

---

## 5. ν‰κ°€ λ° μµμ ν™” λ„κµ¬
- **Perplexity (PPL)**: μμΉκ°€ λ‚®μ„μλ΅ μ–Έμ–΄ λ¨λΈμ μμΈ΅ ν™•μ‹ λ„κ°€ λ†’μ.
- **Unsloth**: μλ¦¬μ  μµμ ν™”λ¥Ό ν†µν•΄ LoRA ν•™μµ μ†λ„ 2λ°° ν–¥μƒ λ° λ©”λ¨λ¦¬ μ λ° κ°μ¶•.
- **MergeKit**: μ„λ΅ λ‹¤λ¥Έ λ‘ λ¨λΈμ„ μμΉμ μΌλ΅ κ²°ν•©(Merging)ν•λ” κΈ°μ .

μ΄μƒμ λ‚΄μ©μ€ νμΈνλ‹ λ‹¨μ›μ 720κ° λ¬Έν•­μ— λ“±μ¥ν•λ” κΈ°μ΄λ¶€ν„° μλ¦¬μ  μ›λ¦¬κΉμ§€ μ™„λ²½ν ν¬κ΄„ν•©λ‹λ‹¤.