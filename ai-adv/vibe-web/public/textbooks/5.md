# 📘 [학습 노트] 교재 5. RAG & Agent (PDF 기반 + 실무 보충)

이 교재는 원본 PDF **"RAG 개념과 아키텍처"**의 내용을 기반으로 하며, RAG 시스템 구축을 위한 실무적인 LangChain 활용법을 보충했습니다.

---

## 1. RAG (Retrieval-Augmented Generation) 개념
### 💡 LLM의 한계와 RAG의 필요성
- **환각 (Hallucination)**: LLM이 모르는 내용을 사실인 것처럼 지어내는 현상.
- **최신 정보 부재**: 학습 시점(Cut-off) 이후의 정보를 모름.
- **RAG 해결책**: LLM에게 교과서(외부 데이터)를 쥐어주고, "이 내용을 참고해서 답변해"라고 시키는 방식입니다.

### 🏗 RAG 파이프라인
1.  **Ingestion (수집)**: PDF, 웹페이지 등 외부 데이터를 가져옵니다.
2.  **Splitting (분할)**: 긴 문서를 LLM이 처리하기 좋게 작은 조각(Chunk)으로 자릅니다.
3.  **Embedding (임베딩)**: 텍스트를 벡터(숫자 리스트)로 변환하여 저장합니다.
4.  **Retrieval (검색)**: 사용자 질문과 가장 유사한 Chunk를 찾아냅니다.
5.  **Generation (생성)**: 찾은 내용(Context)과 질문을 합쳐 LLM에게 보냅니다.

---

## 2. 데이터 처리와 Vector DB
### ✂️ 청킹 (Chunking)
- 텍스트를 자를 때 문맥이 끊기지 않도록 **Overlap(중복)**을 두는 것이 중요합니다.
- `RecursiveCharacterTextSplitter`: 문단, 줄바꿈 등을 기준으로 똑똑하게 자르는 도구입니다.

### 💾 Vector DB (벡터 데이터베이스)
- 임베딩된 벡터를 저장하고 빠르게 검색(Similarity Search)할 수 있는 전용 DB입니다.
- **예시**: Chroma, FAISS, Pinecone 등.
- **유사도 검색**: 질문 벡터와 가장 가까운(코사인 유사도가 높은) 문서 벡터를 찾습니다.

---

## 3. LangChain 기초
### 🦜 LangChain이란?
LLM을 활용한 어플리케이션을 쉽게 개발할 수 있도록 돕는 프레임워크입니다.
- **Chain**: 여러 작업(프롬프트 + 모델 + 출력 파서)을 사슬처럼 연결하여 실행합니다.

### ⛓ LCEL (LangChain Expression Language)
파이프(`|`) 연산자를 사용하여 직관적으로 코드를 짭니다.
```python
chain = prompt | model | output_parser
result = chain.invoke({"topic": "AI"})
```

---

## 4. Agent (에이전트) 개요
### 🤖 에이전트란?
- 스스로 **도구(Tool)**를 선택하고 사용하여 문제를 해결하는 능동적인 AI입니다.
- **ReAct 패턴**: Reasoning(추론) + Acting(행동). "검색이 필요하네? 검색 도구를 쓰자 -> 결과를 보니 부족하네? 다시 검색하자"와 같이 사고합니다.
- **Tool**: 웹 검색, 계산기, 날씨 API 등 LLM이 외부 세계와 소통하는 수단입니다.